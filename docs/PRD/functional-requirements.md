# Functional Requirements

## 1. 用户管理能力

**FR-1.1 用户注册**
- **描述：** 用户可以通过邮箱或第三方登录（GitHub、Google）注册账号
- **接受标准：**
  - 支持邮箱注册（邮箱验证）
  - 支持 OAuth 登录（GitHub、Google）
  - 注册成功后自动登录
  - 用户信息存储到数据库

**FR-1.2 用户登录**
- **描述：** 用户可以通过邮箱密码或第三方登录方式登录
- **接受标准：**
  - 支持邮箱密码登录
  - 支持 OAuth 登录
  - 使用 JWT 进行认证
  - 登录状态持久化

**FR-1.3 用户角色管理**
- **描述：** 系统支持普通用户和管理员（博主）两种角色
- **接受标准：**
  - 普通用户：可以注册、登录、留言
  - 管理员（博主）：可以注册、登录、留言、编辑文章、管理后台
  - 角色权限控制正确

**FR-1.4 用户资料管理**
- **描述：** 用户可以管理个人资料（头像、简介等）
- **接受标准：**
  - 用户可以编辑个人资料
  - 支持头像上传
  - 支持简介编辑

## 2. 内容管理能力

**FR-2.1 文章创建**
- **描述：** 博主可以在后台创建新文章
- **接受标准：**
  - 使用 Tiptap 编辑器
  - 支持 Markdown 格式
  - 支持富文本编辑
  - 支持实时预览
  - 文章保存到数据库

**FR-2.2 文章编辑**
- **描述：** 博主可以编辑已存在的文章
- **接受标准：**
  - 可以编辑文章标题、内容、分类、标签
  - 编辑后保存更新
  - 支持版本历史（可选）

**FR-2.3 文章发布**
- **描述：** 博主可以发布文章，使其在前台可见
- **接受标准：**
  - 文章有发布状态（草稿/已发布）
  - 点击发布按钮后文章在前台可见
  - 可以取消发布（撤回）

**FR-2.4 文章删除**
- **描述：** 博主可以删除文章
- **接受标准：**
  - 删除前需要确认
  - 删除后文章从数据库移除
  - 前台不再显示

**FR-2.5 草稿管理**
- **描述：** 博主可以保存文章为草稿
- **接受标准：**
  - 文章可以保存为草稿
  - 草稿不会在前台显示
  - 可以继续编辑草稿

**FR-2.6 文章分类管理**
- **描述：** 文章可以分类（技术、生活、旅行）
- **接受标准：**
  - 文章可以分配到一个分类
  - 可以按分类筛选文章
  - 分类在前台显示

**FR-2.7 文章标签管理**
- **描述：** 文章可以添加标签
- **接受标准：**
  - 文章可以添加多个标签
  - 可以按标签筛选文章
  - 标签在前台显示

## 3. 内容展示能力

**FR-3.1 文章列表展示**
- **描述：** 前台首页显示最新文章列表
- **接受标准：**
  - 显示文章标题、摘要、发布时间
  - 按时间倒序排列（最新在顶部或底部，根据用户选择）
  - 支持分页
  - 响应式设计（桌面、平板、手机）

**FR-3.2 文章详情展示**
- **描述：** 用户可以查看完整文章内容
- **接受标准：**
  - 显示完整文章内容
  - 显示文章分类、标签
  - 显示发布时间
  - 良好的阅读体验（排版、字体、配色）
  - 响应式设计

**FR-3.3 分类筛选**
- **描述：** 用户可以按分类筛选文章
- **接受标准：**
  - 可以点击分类查看该分类下的所有文章
  - 筛选结果正确显示

**FR-3.4 标签筛选**
- **描述：** 用户可以按标签筛选文章
- **接受标准：**
  - 可以点击标签查看该标签下的所有文章
  - 筛选结果正确显示

**FR-3.5 分页功能**
- **描述：** 文章列表支持分页
- **接受标准：**
  - 每页显示合理数量的文章
  - 支持翻页
  - 显示当前页码和总页数

## 4. 互动能力

**FR-4.1 留言功能**
- **描述：** 读者可以在文章下方留言
- **接受标准：**
  - 读者可以发表留言
  - 留言显示在文章下方
  - 留言包含作者、内容、时间
  - 支持未登录用户留言（可选）

**FR-4.2 留言回复**
- **描述：** 博主和读者可以回复留言
- **接受标准：**
  - 可以回复其他用户的留言
  - 回复显示在留言下方
  - 支持多级回复（可选）

**FR-4.3 留言管理**
- **描述：** 博主可以管理留言
- **接受标准：**
  - 博主可以删除留言
  - 博主可以回复留言
  - 留言管理在后台进行

## 5. 内容创作能力

**FR-5.1 富文本编辑器**
- **描述：** 博主使用 Tiptap 编辑器创建和编辑文章
- **接受标准：**
  - Tiptap 编辑器正常工作
  - 支持 Markdown 格式
  - 支持实时预览
  - 支持常用格式（粗体、斜体、链接、列表等）

**FR-5.2 图片上传**
- **描述：** 博主可以在文章中插入图片
- **接受标准：**
  - 支持图片上传（拖拽、粘贴）
  - 图片存储到本地（抽象层设计）
  - 图片在文章中正确显示
  - 支持图片管理（媒体库）

**FR-5.3 媒体管理**
- **描述：** 博主可以管理上传的媒体文件
- **接受标准：**
  - 可以查看已上传的媒体文件
  - 可以删除媒体文件
  - 媒体库界面友好

## 6. 后台管理能力

**FR-6.1 后台管理界面**
- **描述：** 博主可以访问后台管理界面
- **接受标准：**
  - 后台需要登录认证
  - 只有博主可以访问后台
  - 后台界面清晰易用

**FR-6.2 文章管理**
- **描述：** 博主可以在后台管理所有文章
- **接受标准：**
  - 可以查看所有文章列表
  - 可以创建、编辑、删除文章
  - 可以管理文章状态（草稿/已发布）

## 7. SEO 优化能力

**FR-7.1 元标签**
- **描述：** 文章页面包含正确的 SEO 元标签
- **接受标准：**
  - 每篇文章有独立的 title、description
  - 支持 Open Graph 标签
  - 支持 Twitter Card 标签

**FR-7.2 Sitemap**
- **描述：** 网站生成 sitemap.xml
- **接受标准：**
  - 自动生成 sitemap.xml
  - 包含所有已发布文章
  - 符合搜索引擎标准

**FR-7.3 结构化数据**
- **描述：** 文章页面包含结构化数据
- **接受标准：**
  - 使用 JSON-LD 格式
  - 包含文章信息（标题、作者、发布时间等）
  - 符合 Schema.org 标准

---
