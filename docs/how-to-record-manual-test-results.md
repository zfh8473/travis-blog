# 如何记录手动测试结果

**创建日期：** 2025-01-XX  
**用途：** 指导如何将手动测试结果记录到测试执行文档

---

## 📝 记录位置

所有手动测试结果应记录到：`docs/regression-test-epic1-6-execution.md`

---

## 📋 记录格式

### 标准格式模板

```markdown
#### TC-X.X: 测试用例名称
- [x] **状态：** ✅ 通过 / ❌ 失败 / ⚠️ 部分通过
- [x] **步骤：**
  1. 步骤1描述
  2. 步骤2描述
  3. ...
- [x] **预期结果：** 预期结果描述
- [x] **实际结果：** 实际测试结果描述（详细说明）
- [x] **备注：** 任何额外的备注信息
```

---

## 🎯 具体用例记录示例

### 示例1：TC-3.5 图片拖拽上传（通过）

```markdown
#### TC-3.5: 图片拖拽上传
- [x] **状态：** ✅ 通过
- [x] **步骤：**
  1. 登录管理员账号
  2. 访问文章创建页面 (`/admin/articles/new`)
  3. 准备一张测试图片（500x500px JPG格式）
  4. 在Markdown编辑器中拖拽图片到编辑器区域
  5. 观察编辑器变化
  6. 验证图片上传成功
  7. 验证Markdown语法正确插入
- [x] **预期结果：** 图片上传成功，Markdown语法正确插入
- [x] **实际结果：** ✅ 图片拖拽后立即开始上传，上传进度显示正常，上传完成后Markdown语法 `![image](https://travis-blog.vercel.app/uploads/test-image.jpg)` 正确插入到编辑器光标位置，图片URL可访问，预览中正常显示
- [x] **备注：** 测试图片大小：245KB，上传时间约2秒，功能正常
```

### 示例2：TC-3.6 图片粘贴上传（通过）

```markdown
#### TC-3.6: 图片粘贴上传
- [x] **状态：** ✅ 通过
- [x] **步骤：**
  1. 登录管理员账号
  2. 访问文章创建页面
  3. 从文件管理器复制图片文件
  4. 在Markdown编辑器中按 `Cmd+V` 粘贴
  5. 验证图片上传成功
- [x] **预期结果：** 图片粘贴后自动上传，Markdown语法正确插入
- [x] **实际结果：** ✅ 粘贴操作后图片立即开始上传，上传完成后Markdown语法正确插入，图片URL格式正确，预览显示正常
- [x] **备注：** 测试了从文件管理器复制粘贴和从网页复制粘贴两种方式，均正常工作
```

### 示例3：TC-3.9 文章删除（通过）

```markdown
#### TC-3.9: 文章删除
- [x] **状态：** ✅ 通过
- [x] **步骤：**
  1. 登录管理员账号
  2. 访问文章管理列表页面 (`/admin/articles`)
  3. 选择一篇测试文章（标题："测试删除文章"）
  4. 点击"删除"按钮
  5. 在确认对话框中点击"确定"
  6. 观察页面变化
  7. 验证文章从列表中移除
  8. 验证成功消息显示
  9. 访问文章详情页面验证删除
- [x] **预期结果：** 文章删除成功，从列表中移除
- [x] **实际结果：** ✅ 点击删除按钮后确认对话框正常显示（"确定要删除文章《测试删除文章》吗？此操作无法撤销。"），点击确定后删除操作成功执行，文章立即从列表中移除，成功消息"文章删除成功！"显示在页面顶部，统计信息从12篇更新为11篇，访问文章详情页面返回404错误
- [x] **备注：** 删除操作响应迅速，UI更新及时，功能正常
```

### 示例4：TC-3.9 文章删除（失败）

```markdown
#### TC-3.9: 文章删除
- [x] **状态：** ❌ 失败
- [x] **步骤：**
  1. 登录管理员账号
  2. 访问文章管理列表页面
  3. 选择一篇测试文章
  4. 点击"删除"按钮
  5. 在确认对话框中点击"确定"
  6. 观察页面变化
- [x] **预期结果：** 文章删除成功，从列表中移除
- [x] **实际结果：** ❌ 点击删除按钮后确认对话框正常显示，点击确定后删除操作执行，但页面显示错误消息"删除文章失败，请刷新页面重试"，文章未从列表中移除，浏览器控制台显示错误："Failed to delete article: Network error"
- [x] **备注：** 可能是网络问题或API端点错误，需要进一步调查
```

### 示例5：TC-4.7 分页功能（未实现）

```markdown
#### TC-4.7: 分页功能
- [x] **状态：** ⚠️ 未实现
- [x] **步骤：**
  1. 访问首页 (`/`)
  2. 检查文章数量（当前10篇）
  3. 查找分页控件
  4. 验证分页功能
- [x] **预期结果：** 分页功能正常
- [x] **实际结果：** ⚠️ 首页显示10篇文章，未发现分页控件（页码、上一页/下一页按钮等）。检查代码后发现分页功能尚未实现，当前所有文章都在单页显示
- [x] **备注：** 分页功能需要后续开发实现。如果文章数量超过阈值（如20篇），应实现分页功能
```

---

## 📝 记录步骤

### 步骤1：打开测试执行文档

打开文件：`docs/regression-test-epic1-6-execution.md`

### 步骤2：找到对应的测试用例

使用搜索功能（`Cmd+F` 或 `Ctrl+F`）搜索测试用例ID，例如：
- 搜索 "TC-3.5" 找到图片拖拽上传用例
- 搜索 "TC-3.6" 找到图片粘贴上传用例
- 搜索 "TC-3.9" 找到文章删除用例
- 搜索 "TC-4.7" 找到分页功能用例

### 步骤3：更新测试记录

将测试用例的状态从：
```markdown
- [ ] **状态：** 待执行
```

更新为：
```markdown
- [x] **状态：** ✅ 通过 / ❌ 失败 / ⚠️ 部分通过
```

### 步骤4：填写实际结果

在 `**实际结果：**` 字段中详细描述：
- 测试过程中观察到的现象
- 功能是否正常工作
- 任何错误或异常
- 具体的测试数据（如测试图片大小、文章标题等）

### 步骤5：添加备注（如需要）

在 `**备注：**` 字段中添加：
- 额外的观察结果
- 已知问题
- 改进建议
- 测试环境信息

---

## ✅ 记录检查清单

在记录测试结果前，确保：

- [ ] 已执行完整的测试步骤
- [ ] 已验证预期结果
- [ ] 已记录实际结果（详细描述）
- [ ] 已更新状态标记（`[ ]` 改为 `[x]`）
- [ ] 已添加备注（如有必要）
- [ ] 已更新测试进度统计表（在文档顶部）

---

## 📊 更新进度统计表

记录完测试结果后，记得更新文档顶部的进度统计表：

```markdown
| Epic | 测试用例数 | 已完成 | 通过 | 失败 | 跳过 | 进度 |
|------|-----------|--------|------|------|------|------|
| Epic 3 | 12 | 12 | 12 | 0 | 0 | 100% |
```

更新规则：
- **已完成**：已完成测试的用例数（包括通过、失败、部分通过）
- **通过**：状态为 ✅ 通过的用例数
- **失败**：状态为 ❌ 失败的用例数
- **跳过**：跳过的用例数
- **进度**：已完成 / 测试用例数 × 100%

---

## 🎯 记录要点

### 1. 详细描述实际结果

**好的记录：**
```
✅ 图片拖拽后立即开始上传，上传进度显示正常，上传完成后Markdown语法 `![image](url)` 正确插入到编辑器光标位置，图片URL可访问，预览中正常显示
```

**不好的记录：**
```
✅ 功能正常
```

### 2. 包含具体的测试数据

**好的记录：**
```
测试图片大小：245KB，上传时间约2秒，图片URL：https://travis-blog.vercel.app/uploads/test-image.jpg
```

### 3. 记录错误信息（如果失败）

**好的记录：**
```
❌ 点击删除按钮后确认对话框正常显示，点击确定后删除操作执行，但页面显示错误消息"删除文章失败，请刷新页面重试"，浏览器控制台显示错误："Failed to delete article: Network error"
```

### 4. 说明测试环境

**好的记录：**
```
测试环境：Chrome 120.0.6099.109，macOS 14.6.0，网络：WiFi
```

---

## 📸 附加信息（可选）

如果需要，可以附加：
- 截图（保存在 `docs/test-screenshots/` 目录）
- 录屏（保存在 `docs/test-videos/` 目录）
- 错误日志（保存在 `docs/test-logs/` 目录）

在备注中引用：
```markdown
- [x] **备注：** 详见截图 `docs/test-screenshots/tc-3.5-drag-upload.png`
```

---

## 🔄 更新示例

### 更新前：

```markdown
#### TC-3.5: 图片拖拽上传 ⏳（待手动测试）
- [ ] **状态：** 待执行
- [ ] **步骤：**
  1. 登录管理员账号
  2. 访问文章创建页面
  3. 在 Markdown 编辑器中拖拽图片
  4. 验证图片上传成功
  5. 验证图片 URL 插入到编辑器
- [ ] **预期结果：** 图片上传成功，Markdown 语法正确插入
- [ ] **实际结果：**
- [ ] **备注：**
```

### 更新后：

```markdown
#### TC-3.5: 图片拖拽上传
- [x] **状态：** ✅ 通过
- [x] **步骤：**
  1. 登录管理员账号
  2. 访问文章创建页面 (`/admin/articles/new`)
  3. 准备一张测试图片（500x500px JPG格式，245KB）
  4. 在Markdown编辑器中拖拽图片到编辑器区域
  5. 观察编辑器变化
  6. 验证图片上传成功
  7. 验证Markdown语法正确插入
- [x] **预期结果：** 图片上传成功，Markdown语法正确插入
- [x] **实际结果：** ✅ 图片拖拽后立即开始上传，上传进度显示正常，上传完成后Markdown语法 `![image](https://travis-blog.vercel.app/uploads/test-image.jpg)` 正确插入到编辑器光标位置，图片URL可访问，预览中正常显示
- [x] **备注：** 测试图片大小：245KB，上传时间约2秒，功能正常。测试环境：Chrome 120.0.6099.109，macOS 14.6.0
```

---

## 💡 提示

1. **及时记录**：测试完成后立即记录，避免遗忘细节
2. **详细描述**：尽可能详细地描述实际结果，包括具体的操作和观察
3. **包含数据**：记录具体的测试数据（文件大小、URL、错误消息等）
4. **保持格式**：遵循文档中的格式，保持一致性
5. **更新统计**：记得更新进度统计表

---

**最后更新：** 2025-01-XX  
**创建者：** PM

