# Vercel 环境回归测试执行指南

**测试环境：** Vercel 生产环境  
**预计 URL：** `https://travis-blog.vercel.app`（请确认实际 URL）  
**测试日期：** 2025-01-XX

---

## 🚀 快速开始

### 步骤 1: 确认部署 URL
1. 访问 Vercel Dashboard: https://vercel.com/dashboard
2. 找到项目 `travis-blog`
3. 确认生产环境 URL（通常是 `https://travis-blog.vercel.app` 或自定义域名）
4. 记录实际 URL：`https://________________.vercel.app`

### 步骤 2: 准备测试账号
- 确认管理员账号可正常登录
- 确认账号有创建/编辑文章的权限

### 步骤 3: 开始测试
按照以下测试用例逐一执行，并记录结果。

---

## 📋 测试用例执行顺序

### 优先级 1: 关键功能测试（必须先测试）

#### TC-1.2: Markdown 语法输入测试 ⭐ 关键
**这是之前报告的问题，必须重点测试！**

**测试步骤：**
1. 访问 `https://[your-domain]/admin/articles/new`
2. 登录管理员账号
3. 在编辑器中输入 `# 一级标题`
   - ✅ 确认 `#` 字符**不会被删除**
   - ✅ 确认光标位置**正常**（不会跳转到上一行）
4. 在编辑器中输入 `## 二级标题`
   - ✅ 确认 `##` 字符**不会被删除**
   - ✅ 确认光标位置**正常**
5. 在编辑器中输入 `### 三级标题`
   - ✅ 确认 `###` 字符**不会被删除**
   - ✅ 确认光标位置**正常**

**预期结果：** 
- ✅ 所有 `#` 字符正常显示，不会被删除
- ✅ 光标位置正常，不会异常跳转
- ✅ 标题格式正确显示

**如果测试失败：** 这是 P0 级别问题，需要立即修复！

---

#### TC-1.1: Markdown 编辑器加载
**测试步骤：**
1. 访问 `/admin/articles/new`
2. 检查页面是否正常加载
3. 检查编辑器是否正常渲染
4. 检查浏览器控制台是否有错误

**预期结果：** 
- ✅ 页面正常加载
- ✅ 编辑器正常显示
- ✅ 无控制台错误

---

#### TC-1.3: HTML 内容加载（编辑现有文章）
**测试步骤：**
1. 访问 `/admin/articles`
2. 选择一篇现有文章（建议选择包含多种格式的文章）
3. 点击"编辑"
4. 检查编辑器中的内容：
   - ✅ 内容是否正确显示（从 HTML 转换为 Markdown）
   - ✅ 格式是否正确（标题、段落、列表等）
   - ✅ 是否有数据丢失

**测试多篇文章：**
- [ ] 简单文本文章
- [ ] 包含图片的文章
- [ ] 包含列表的文章
- [ ] 包含代码块的文章
- [ ] 复杂格式文章

**预期结果：** 
- ✅ 所有文章都能正常加载
- ✅ HTML 内容正确转换为 Markdown
- ✅ 无数据丢失

---

### 优先级 2: 功能完整性测试

#### TC-1.4: Markdown 内容保存
**测试步骤：**
1. 在编辑器中输入以下测试内容：
   ```markdown
   # 测试标题
   
   这是一段测试内容，包含 **粗体** 和 *斜体* 文本。
   
   ## 二级标题
   
   - 列表项 1
   - 列表项 2
   
   ![测试图片](https://example.com/image.jpg)
   ```
2. 填写文章标题：`回归测试 - Markdown 编辑器`
3. 点击"保存为草稿"
4. 确认保存成功
5. 重新打开刚创建的文章
6. 确认内容正确保存

**预期结果：** 
- ✅ 保存成功
- ✅ 内容正确保存
- ✅ 前台显示正确

---

#### TC-2.1: 图片拖拽上传
**测试步骤：**
1. 准备一张测试图片（JPG 或 PNG，建议小于 2MB）
2. 在编辑器中，将图片拖拽到编辑器区域
3. 观察：
   - ✅ 是否显示上传进度
   - ✅ 上传是否成功
   - ✅ Markdown 中是否插入图片语法：`![filename](url)`
4. 确认图片 URL 可访问

**预期结果：** 
- ✅ 图片上传成功
- ✅ Markdown 语法正确插入
- ✅ 图片 URL 可访问

---

#### TC-2.2: 图片粘贴上传
**测试步骤：**
1. 复制一张图片到剪贴板（从文件管理器或浏览器）
2. 在编辑器中按 `Ctrl+V` / `Cmd+V`
3. 观察上传过程和结果

**预期结果：** 
- ✅ 图片上传成功
- ✅ Markdown 语法正确插入

---

#### TC-2.3: 图片显示验证
**测试步骤：**
1. 保存包含图片的文章
2. 访问文章详情页 `/articles/[slug]`
3. 验证图片是否正确显示

**预期结果：** 
- ✅ 图片正确显示
- ✅ 图片大小和格式正确

---

### 优先级 3: 渲染和兼容性测试

#### TC-3.1: HTML 内容渲染（前台）
**测试步骤：**
1. 创建一篇包含各种 Markdown 语法的测试文章
2. 发布文章
3. 访问文章详情页
4. 验证所有格式是否正确渲染

**预期结果：** 
- ✅ 标题样式正确
- ✅ 段落间距正确
- ✅ 列表格式正确
- ✅ 代码块样式正确
- ✅ 图片显示正确
- ✅ 链接可点击

---

#### TC-3.2: Markdown 转换后的 HTML 渲染
**测试步骤：**
1. 编辑一篇现有文章
2. 保存文章
3. 访问前台文章详情页
4. 验证内容渲染正确性

**预期结果：** 
- ✅ 内容渲染正确
- ✅ 格式没有丢失

---

#### TC-4.1: 现有文章加载
**测试步骤：**
1. 选择 5-10 篇不同格式的现有文章
2. 逐一打开编辑页面
3. 验证每篇文章都能正常加载

**预期结果：** 
- ✅ 所有文章都能正常加载
- ✅ 内容正确显示

---

#### TC-4.2: 现有文章编辑保存
**测试步骤：**
1. 选择一篇现有文章
2. 修改部分内容
3. 保存文章
4. 验证前台显示

**预期结果：** 
- ✅ 保存成功
- ✅ 前台显示正确

---

## 🐛 问题记录模板

如果发现问题，请记录：

```
### 问题 [编号]: [问题标题]
- **发现时间：** [时间]
- **测试用例：** TC-X.X
- **严重程度：** P0（阻塞）/ P1（严重）/ P2（一般）
- **问题描述：** 
- **复现步骤：** 
  1. 
  2. 
  3. 
- **预期行为：** 
- **实际行为：** 
- **截图/日志：** [如有]
- **状态：** 待修复/已修复/已关闭
```

---

## 📊 测试结果汇总

完成测试后，请填写：

- **总测试用例数：** 11
- **已执行：** [数量]
- **通过：** [数量]
- **失败：** [数量]
- **阻塞：** [数量]
- **通过率：** [百分比]%

---

## ✅ 测试完成检查清单

- [ ] 所有优先级 1 测试用例已执行
- [ ] 所有优先级 2 测试用例已执行
- [ ] 所有优先级 3 测试用例已执行
- [ ] 所有问题已记录
- [ ] 测试结果已更新到 `docs/regression-test-execution-log.md`
- [ ] 下一步行动已确定

---

**测试完成后，请更新 `docs/regression-test-execution-log.md` 文件！**

